Executing action: monitor
Serial port /dev/ttyUSB0
Connecting....
Detecting chip type... ESP32-S3
Running idf_monitor in directory /home/igotu/igotu_workplace/espressif/smart-esp32s3
Executing "/home/igotu/.espressif/python_env/idf5.5_py3.10_env/bin/python /home/igotu/igotu_workplace/espressif/esp-idf-5.4/tools/idf_monitor.py -p /dev/ttyUSB0 -b 115200 --toolchain-prefix xtensa-esp32s3-elf- --target esp32s3 --revision 0 /home/igotu/igotu_workplace/espressif/smart-esp32s3/build/smart-esp32s3.elf /home/igotu/igotu_workplace/espressif/smart-esp32s3/build/bootloader/bootloader.elf -m '/home/igotu/.espressif/python_env/idf5.5_py3.10_env/bin/python' '/home/igotu/igotu_workplace/espressif/esp-idf-5.4/tools/idf.py'"...
ESP-ROM:esp32s3-20210327
Build:Mar 27 2021
rst:0x1 (POWERON),boot:0x2b (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fce2820,len:0x159c
load:0x403c8700,len:0xd24
load:0x403cb700,len:0x2f48
entry 0x403c8924
[0;32mI (24) boot: ESP-IDF v5.5 2nd stage bootloader[0m
[0;32mI (25) boot: compile time Nov 10 2025 00:00:50[0m
[0;32mI (25) boot: Multicore bootloader[0m
[0;32mI (25) boot: chip revision: v0.2[0m
[0;32mI (28) boot: efuse block revision: v1.3[0m
[0;32mI (31) boot.esp32s3: Boot SPI Speed : 80MHz[0m
[0;32mI (35) boot.esp32s3: SPI Mode       : DIO[0m
[0;32mI (39) boot.esp32s3: SPI Flash Size : 16MB[0m
[0;32mI (43) boot: Enabling RNG early entropy source...[0m
[0;32mI (47) boot: Partition Table:[0m
[0;32mI (50) boot: ## Label            Usage          Type ST Offset   Length[0m
[0;32mI (56) boot:  0 nvs              WiFi data        01 02 00010000 00006000[0m
[0;32mI (63) boot:  1 fctry            WiFi data        01 02 00016000 00006000[0m
[0;32mI (69) boot:  2 factory          factory app      00 00 00020000 00400000[0m
[0;32mI (76) boot:  3 storage          Unknown data     01 82 00420000 00600000[0m
[0;32mI (82) boot:  4 model            Unknown data     01 82 00a20000 00500000[0m
[0;32mI (89) boot: End of partition table[0m
[0;32mI (92) esp_image: segment 0: paddr=00020020 vaddr=3c0e0020 size=26134h (155956) map[0m
[0;32mI (127) esp_image: segment 1: paddr=0004615c vaddr=3fc98800 size=08ac0h ( 35520) load[0m
[0;32mI (139) esp_image: segment 2: paddr=0004ec24 vaddr=40374000 size=013f4h (  5108) load[0m
[0;32mI (141) esp_image: segment 3: paddr=00050020 vaddr=42000020 size=df4b4h (914612) map[0m
[0;32mI (304) esp_image: segment 4: paddr=0012f4dc vaddr=403753f4 size=133a8h ( 78760) load[0m
[0;32mI (327) esp_image: segment 5: paddr=0014288c vaddr=600fe000 size=00020h (    32) load[0m
[0;32mI (336) boot: Loaded app from partition at offset 0x20000[0m
[0;32mI (336) boot: Disabling RNG early entropy source...[0m
[0;32mI (347) octal_psram: vendor id    : 0x0d (AP)[0m
[0;32mI (347) octal_psram: dev id       : 0x02 (generation 3)[0m
[0;32mI (347) octal_psram: density      : 0x03 (64 Mbit)[0m
[0;32mI (349) octal_psram: good-die     : 0x01 (Pass)[0m
[0;32mI (353) octal_psram: Latency      : 0x01 (Fixed)[0m
[0;32mI (358) octal_psram: VCC          : 0x01 (3V)[0m
[0;32mI (362) octal_psram: SRF          : 0x01 (Fast Refresh)[0m
[0;32mI (367) octal_psram: BurstType    : 0x01 (Hybrid Wrap)[0m
[0;32mI (371) octal_psram: BurstLen     : 0x01 (32 Byte)[0m
[0;32mI (376) octal_psram: Readlatency  : 0x02 (10 cycles@Fixed)[0m
[0;32mI (381) octal_psram: DriveStrength: 0x00 (1/1)[0m
[0;32mI (386) MSPI Timing: PSRAM timing tuning index: 5[0m
[0;32mI (390) esp_psram: Found 8MB PSRAM device[0m
[0;32mI (393) esp_psram: Speed: 80MHz[0m
[0;32mI (396) cpu_start: Multicore app[0m
[0;32mI (832) esp_psram: SPI SRAM memory test OK[0m
[0;32mI (841) cpu_start: Pro cpu start user code[0m
[0;32mI (846) cpu_start: cpu freq: 160000000 Hz[0m
[0;32mI (846) app_init: Application information:[0m
[0;32mI (846) app_init: Project name:     smart-esp32s3[0m
[0;32mI (850) app_init: App version:      f0ebc64-dirty[0m
[0;32mI (855) app_init: Compile time:     Nov 10 2025 00:00:15[0m
[0;32mI (860) app_init: ELF file SHA256:  13e21ab77...[0m
[0;32mI (864) app_init: ESP-IDF:          v5.5[0m
[0;32mI (868) efuse_init: Min chip rev:     v0.0[0m
[0;32mI (872) efuse_init: Max chip rev:     v0.99 [0m
[0;32mI (876) efuse_init: Chip rev:         v0.2[0m
[0;32mI (880) heap_init: Initializing. RAM available for dynamic allocation:[0m
[0;32mI (886) heap_init: At 3FCB2C38 len 00036AD8 (218 KiB): RAM[0m
[0;32mI (891) heap_init: At 3FCE9710 len 00005724 (21 KiB): RAM[0m
[0;32mI (896) heap_init: At 3FCF0000 len 00008000 (32 KiB): DRAM[0m
[0;32mI (901) heap_init: At 600FE020 len 00001FC8 (7 KiB): RTCRAM[0m
[0;32mI (907) esp_psram: Adding pool of 8192K of PSRAM memory to heap allocator[0m
[0;32mI (914) spi_flash: detected chip: generic[0m
[0;32mI (917) spi_flash: flash io: dio[0m
[0;32mI (920) sleep_gpio: Configure to isolate all GPIO pins in sleep state[0m
[0;32mI (926) sleep_gpio: Enable automatic switching of GPIO sleep configuration[0m
[0;32mI (933) main_task: Started on CPU0[0m
[0;32mI (963) esp_psram: Reserving pool of 32K of internal memory for DMA/internal allocations[0m
[0;32mI (963) main_task: Calling app_main()[0m
This is esp32s3 chip with 2 CPU core(s), WiFi/BLE, silicon revision v0.2, 16MB external flash
Minimum free heap size: 8619696 bytes
[0;32mI (973) DRV_I2C_BUS: I2C bus initialized on port 0 (SDA: 1, SCL: 2)[0m
[0;32mI (983) DRV_I2C_BUS: Added device on I2C bus with address 0x6a[0m
[0;32mI (983) DRV_I2C_IMU: DEV IMU ID = 0x5, REVISION_ID = 0x7c[0m

[0;32mI (1003) DRV_I2C_BUS: Added device on I2C bus with address 0x19[0m
[0;32mI (1003) DRV_IO_EXPANDER: get mode of pin:7, mode:0[0m
[0;32mI (1003) APP_STORAGE_NVS: NVS initialized successfully[0m
[0;32mI (1003) DEV_SDCARD: Initializing SD card[0m
[0;32mI (1013) DEV_SDCARD: Using SDMMC peripheral[0m
[0;32mI (1013) DEV_SDCARD: Mounting filesystem[0m
[0;32mI (1063) DEV_SDCARD: Filesystem mounted[0m
[0;32mI (1063) DRV_SPI_BUS: Initialize LCD backlight[0m
[0;32mI (1063) DRV_SPI_BUS: Initialize SPI bus[0m
[0;32mI (1063) DRV_SPI_BUS: Initialize SPI bus[0m
[0;32mI (1063) DRV_SPI_BUS: Initialize Panel IO[0m
[0;32mI (1073) DRV_SPI_BUS: Initialize LCD driver[0m
[0;32mI (1203) DRV_SPI_BUS: Set LCD backlight brightness to 100%[0m
[0;32mI (1203) s3 ll_cam: DMA Channel=1[0m
[0;32mI (1203) cam_hal: cam init ok[0m
[0;32mI (1213) ov7725: Mismatch PID=0xe8[0m
[0;32mI (1213) ov7760: Mismatch PID=0xe8[0m
[0;32mI (1213) gc032a: Mismatch PID=0xf302[0m
[0;32mI (1213) camera: Camera PID=0x9b VER=0x00 MIDL=0x00 MIDH=0x00[0m
[0;32mI (1213) camera: Detected GC0308 camera[0m
[0;32mI (1213) camera: Detected camera at address=0x21[0m
[0;32mI (1473) cam_hal: PSRAM DMA mode disabled[0m
[0;32mI (1473) s3 ll_cam: node_size: 3840, nodes_per_line: 1, lines_per_node: 6[0m
[0;32mI (1473) s3 ll_cam: dma_half_buffer_min:  3840, dma_half_buffer: 15360, lines_per_half_buffer: 24, dma_buffer_size: 30720[0m
[0;32mI (1483) cam_hal: buffer_size: 30720, half_buffer_size: 15360, node_buffer_size: 3840, node_cnt: 8, total_cnt: 10[0m
[0;32mI (1493) cam_hal: Allocating 153600 Byte frame buffer in PSRAM[0m
[0;32mI (1493) cam_hal: Allocating 153600 Byte frame buffer in PSRAM[0m
[0;32mI (1503) cam_hal: cam config ok[0m
[0;32mI (1503) gc0308: subsample win:640x480, ratio:0.500000[0m
[0;32mI (1523) DEV_I2C_TOUCH: Touch panel init success[0m
[0;32mI (1523) DRV_I2S_AUDIO: i2s bus init success[0m
[0;32mI (1533) ES8311: Work in Slave mode[0m
[0;32mI (1543) ES7210: Work in Slave mode[0m
[0;32mI (1553) ES7210: Enable ES7210_INPUT_MIC1[0m
[0;32mI (1553) ES7210: Enable ES7210_INPUT_MIC2[0m
[0;32mI (1553) ES7210: Enable ES7210_INPUT_MIC3[0m
[0;32mI (1563) ES7210: Enable TDM mode[0m
[0;32mI (1563) I2S_IF: channel mode 0 bits:16/16 channel:2 mask:3[0m
[0;32mI (1563) I2S_IF: STD Mode 1 bits:16/16 channel:2 sample_rate:16000 mask:3[0m
[0;32mI (1583) Adev_Codec: Open codec device OK[0m
[0;32mI (1583) LVGL: Starting LVGL task[0m
[0;32mI (1583) APP_UI_LVGL: Initializing display[0m
[0;32mI (1583) MODEL_LOADER: The storage free size is 23488 KB[0m
[0;32mI (1593) MODEL_LOADER: The partition size is 5120 KB[0m
[0;32mI (1593) MODEL_LOADER: Successfully load srmodels[0m
[0;32mI (1593) AFE_CONFIG: Set WakeNet Model: wn9s_hilexin[0m
[0;32mI (1603) AFE_CONFIG: Set Second WakeNet Model: wn9s_hilexin[0m

/********** General AFE (Audio Front End) Parameter **********/
pcm_config.total_ch_num: 2
pcm_config.mic_num: 2: [ ch0, ch1 ]
pcm_config.ref_num: 0: [  ]
pcm_config.sample_rate: 16000
afe_type: SR
afe_mode: HIGH PERF
afe_perferred_core: 0
afe_perferred_priority: 5
afe_ringbuf_size: 50
memory_alloc_mode: 3
afe_linear_gain: 1.0
debug_init: false
fixed_first_channel: false

/********** AEC (Acoustic Echo Cancellation) **********/
aec_init: false
aec mode: SR_LOW_COST
aec_filter_length: 4

/********** SE (Speech Enhancement, Microphone Array Processing) **********/
se_init: true, model: BSS

/********** NS (Noise Suppression) **********/
ns_init: false
ns model name: WEBRTC

/********** VAD (Voice Activity Detection) **********/
vad_init: true
vad_mode: 0
vad_model_name: NULL
vad_min_speech_ms: 128
vad_min_noise_ms: 1000
vad_delay_ms: 128
vad_mute_playback: false
vad_enable_channel_trigger: false

/********** WakeNet (Wake Word Engine) **********/
wakenet_init: true
wakenet_model_name: wn9s_hilexin
wakenet_model_name_2: wn9s_hiesp
wakenet_mode: 0

/********** AGC (Automatic Gain Control) **********/
agc_init: false
agc_mode: WAKENET
agc_compression_gain_db: 9
agc_target_level_dbfs: 9

/**************************************************/
[0;33mW (1723) AFE_CONFIG: The playback reference channel is 0, the AEC is deactivated.[0m
MC Quantized wakenet9s: wakenet9s_tts2h8_å—¨ä¹é‘«_3_0.630_0.635, tigger:v4, mode:4, p:0, (Oct 17 2025 17:48:44)
MC Quantized wakenet9s: wakenet9_tts2h12_Hi,ESP_3_0.630_0.635, tigger:v4, mode:4, p:0, (Oct 17 2025 17:48:44)
[0;32mI (1883) AFE: AFE Version: (2MIC_V250113)[0m
[0;32mI (1883) AFE: Input PCM Config: total 2 channels(2 microphone, 0 playback), sample rate:16000[0m
[0;32mI (1893) AFE: AFE Pipeline: [input] -> |SE(BSS)| -> |VAD(WebRTC)| -> |WakeNet(wn9s_hilexin,wn9s_hiesp|SE(BSS)| -> |AGC(WakeNet)| -> [output][0m
[0;32mI (1903) APP_VOICE_SR: load wakenet: wn9s_hilexin[0m
Build fst from commands.
Quantized MultiNet7:rnnt_ctc_2.0, name:mn7_cn, (Oct 17 2025 17:48:44)
Quantized MultiNet7 search method: 2, time out:5.8 s
[0;32mI (3843) APP_VOICE_SR: load multinet: mn7_cn[0m
Build fst from commands.
[0;32mI (3893) APP_VOICE_SR: ------------detect start------------[0m

[0;32mI (3893) APP_VOICE_SR: audio_chunksize = 1024, feed_channel = 2[0m
[0;32mI (3893) SMART-ESP32-S3: Free memory after start: 319939 bytes[0m
[0;32mI (3893) APP_VOICE_SR: Audio buffer allocated successfully[0m
[1;31mE (4923) APP_VOICE_SR: Failed to read data from i2s device[0m
[1;31mE (5933) APP_VOICE_SR: Failed to read data from i2s device[0m
[0;33mW (5943) AFE: Ringbuffer of AFE is empty, Please use feed() to write data[0m
[1;31mE (5943) APP_VOICE_SR: Failed to fetch data from AFE[0m
[1;31mE (6943) APP_VOICE_SR: Failed to read data from i2s device[0m
[1;31mE (7953) APP_VOICE_SR: Failed to read data from i2s device[0m
[0;33mW (7993) AFE: Ringbuffer of AFE is empty, Please use feed() to write data[0m
[1;31mE (7993) APP_VOICE_SR: Failed to fetch data from AFE[0m
[1;31mE (8963) APP_VOICE_SR: Failed to read data from i2s device[0m
[1;31mE (9973) APP_VOICE_SR: Failed to read data from i2s device[0m
[0;33mW (10043) AFE: Ringbuffer of AFE is empty, Please use feed() to write data[0m
[1;31mE (10043) APP_VOICE_SR: Failed to fetch data from AFE[0m
[1;31mE (10983) APP_VOICE_SR: Failed to read data from i2s device[0m
[1;31mE (11993) APP_VOICE_SR: Failed to read data from i2s device[0m
[0;33mW (12093) AFE: Ringbuffer of AFE is empty, Please use feed() to write data[0m
[1;31mE (12093) APP_VOICE_SR: Failed to fetch data from AFE[0m
[1;31mE (13003) APP_VOICE_SR: Failed to read data from i2s device[0m
[1;31mE (14013) APP_VOICE_SR: Failed to read data from i2s device[0m
[0;33mW (14143) AFE: Ringbuffer of AFE is empty, Please use feed() to write data[0m
[1;31mE (14143) APP_VOICE_SR: Failed to fetch data from AFE[0m
[1;31mE (15023) APP_VOICE_SR: Failed to read data from i2s device[0m
[1;31mE (16033) APP_VOICE_SR: Failed to read data from i2s device[0m
[0;33mW (16193) AFE: Ringbuffer of AFE is empty, Please use feed() to write data[0m
[1;31mE (16193) APP_VOICE_SR: Failed to fetch data from AFE[0m
[1;31mE (17043) APP_VOICE_SR: Failed to read data from i2s device[0m
[1;31mE (18053) APP_VOICE_SR: Failed to read data from i2s device[0m
[0;33mW (18243) AFE: Ringbuffer of AFE is empty, Please use feed() to write data[0m
[1;31mE (18243) APP_VOICE_SR: Failed to fetch data from AFE[0m
[1;31mE (19063) APP_VOICE_SR: Failed to read data from i2s device[0m
